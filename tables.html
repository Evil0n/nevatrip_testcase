<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Тестовые задания</title><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="4"/><link rel="preload" href="/nevatrip_testcase/_next/static/css/3c9aed5c576225777bc4.css" as="style"/><link rel="stylesheet" href="/nevatrip_testcase/_next/static/css/3c9aed5c576225777bc4.css" data-n-g=""/><link rel="preload" href="/nevatrip_testcase/_next/static/css/a371ba406821c986c751.css" as="style"/><link rel="stylesheet" href="/nevatrip_testcase/_next/static/css/a371ba406821c986c751.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/main-451062b23790f834dc5a.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/framework.abffcf18e526b7c0dbcd.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/838c9f3c.dd32408e2471bd10af40.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/fd4bf845aed7dbb802652400655cbd7f8e545e2d.ebefd935aa9eadf7826f.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/28c4a1c8a349534f94a08f4a1bbf12609830c835.b3a4585718ec99e0fa05.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/d028f1a9ce91d519727048cd08bb0bf64a5d4833.419cbb774c9d701e288c.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.bf1b5956cffcac531588.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/pages/_app-b288cf6a251b158210ed.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/f5543402ca056c53eca496aafdc30aca99217643.b27feb092d48854805eb.js" as="script"/><link rel="preload" href="/nevatrip_testcase/_next/static/chunks/pages/tables-188d7f8a32fe5eda415c.js" as="script"/></head><body><div id="__next"><section class="ant-layout Layout_layout__23AcS"><header class="ant-layout-header"><div class="logo"></div><ul class="ant-menu ant-menu-dark ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem">Главная</li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child ant-menu-item-selected" role="menuitem">Задание 1</li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem">Задание 2</li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></header><main class="ant-layout-content" style="padding:0 50px"><div class="ant-breadcrumb" style="margin:16px 0"><span><span class="ant-breadcrumb-link">Главная страница</span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link">Задание 1</span><span class="ant-breadcrumb-separator">/</span></span></div><div>С предоставленной таблицой будет сложно сделать задание, по этому я решил придумать собственную таблицу. <br/>Проблемы существующей таблицы <br/>1) добавление новых типов билетов приведет к созданию дополнительных столбцов, из-за чего таблица станет слишком большой и будет сложно выделить что-то одно, будет слишком много данных (зачем например знать что у меня 0 билетов 10 типов и 1 билет в заказе) <br/>2)не понятно как сохранять баркоды для билета, создавать новые строчки билетов для одного заказа? <br/>3)Так как цена для статистики главное, то ошибки недопустимы и источник данных должен быть один что может привести к множественным ошибкам.(неправильно посчитанная сумма) <br/>4)нет источника цены. Цена может изменятся и так как нет сущности прайса, нет уверенности что в данный конкретный момент времени билет был продан за нужную цену. и т.д потенциальных ошибок хранения всех данных обо всех операциях в одной табличке может быть бесконечно из за отсутсвия разделения сущностей. <br/>5) в таблице есть event id которое судя по всему определяет событие которое включает в себя несколько сеансов как определяется сколько было продано билетов на конкретный сеанс?<br/>Предлагаемое решение: <br/>Разделить на несколько таблиц и описать особенности работы с таблицами. Где только одна точка входа это Прайс и в ней никогда ничего нельзя удалить или изменить, только добавлять. <br/>Например если хочешь изменить цену, добавь новую и скрой старую.<h2>Прайс</h2><div class="ant-table-wrapper"><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="ant-table"><div class="ant-table-container"><div class="ant-table-content"><table style="table-layout:auto"><colgroup></colgroup><thead class="ant-table-thead"><tr><th class="ant-table-cell">id</th><th class="ant-table-cell">тип</th><th class="ant-table-cell">цена</th><th class="ant-table-cell">статус</th><th class="ant-table-cell">дата создания</th></tr></thead><tbody class="ant-table-tbody"><tr data-row-key="1" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">1</td><td class="ant-table-cell">взрослый</td><td class="ant-table-cell">700</td><td class="ant-table-cell">активна</td><td class="ant-table-cell">12.02.2021</td></tr><tr data-row-key="2" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">2</td><td class="ant-table-cell">детский</td><td class="ant-table-cell">450</td><td class="ant-table-cell">активна</td><td class="ant-table-cell">12.02.2021</td></tr><tr data-row-key="3" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">3</td><td class="ant-table-cell">взрослый</td><td class="ant-table-cell">1000</td><td class="ant-table-cell">отключен</td><td class="ant-table-cell">12.02.2021</td></tr><tr data-row-key="4" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">4</td><td class="ant-table-cell">детский</td><td class="ant-table-cell">800</td><td class="ant-table-cell">отключен</td><td class="ant-table-cell">12.02.2021</td></tr><tr data-row-key="5" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">5</td><td class="ant-table-cell">льготный</td><td class="ant-table-cell">449</td><td class="ant-table-cell">активна</td><td class="ant-table-cell">12.02.2021</td></tr><tr data-row-key="5" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">5</td><td class="ant-table-cell">групповой</td><td class="ant-table-cell">600</td><td class="ant-table-cell">активна</td><td class="ant-table-cell">12.02.2021</td></tr></tbody></table></div></div></div><ul class="ant-pagination ant-table-pagination ant-table-pagination-right" unselectable="unselectable"><li title="Previous Page" class="ant-pagination-prev ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span></button></li><li title="1" class="ant-pagination-item ant-pagination-item-1 ant-pagination-item-active" tabindex="0"><a rel="nofollow">1</a></li><li title="Next Page" class="ant-pagination-next ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></button></li></ul></div></div></div><h2>Заказ</h2><div class="ant-table-wrapper"><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="ant-table"><div class="ant-table-container"><div class="ant-table-content"><table style="table-layout:auto"><colgroup></colgroup><thead class="ant-table-thead"><tr><th class="ant-table-cell">id</th><th class="ant-table-cell">дата заказа</th></tr></thead><tbody class="ant-table-tbody"><tr data-row-key="order_1" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">1</td><td class="ant-table-cell">12.02.2021</td></tr><tr data-row-key="order_2" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">2</td><td class="ant-table-cell">12.02.2021</td></tr></tbody></table></div></div></div><ul class="ant-pagination ant-table-pagination ant-table-pagination-right" unselectable="unselectable"><li title="Previous Page" class="ant-pagination-prev ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span></button></li><li title="1" class="ant-pagination-item ant-pagination-item-1 ant-pagination-item-active" tabindex="0"><a rel="nofollow">1</a></li><li title="Next Page" class="ant-pagination-next ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></button></li></ul></div></div></div><h2>Билет</h2><div class="ant-table-wrapper"><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="ant-table"><div class="ant-table-container"><div class="ant-table-content"><table style="table-layout:auto"><colgroup></colgroup><thead class="ant-table-thead"><tr><th class="ant-table-cell">id</th><th class="ant-table-cell">id прайса</th><th class="ant-table-cell">id заказа</th><th class="ant-table-cell">id сеанса</th><th class="ant-table-cell">баркод</th><th class="ant-table-cell">статус билета</th></tr></thead><tbody class="ant-table-tbody"><tr data-row-key="ticket_1" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">1</td><td class="ant-table-cell">1</td><td class="ant-table-cell">1</td><td class="ant-table-cell">3</td><td class="ant-table-cell">111111</td><td class="ant-table-cell">активен</td></tr><tr data-row-key="ticket_2" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">2</td><td class="ant-table-cell">4</td><td class="ant-table-cell">2</td><td class="ant-table-cell">6</td><td class="ant-table-cell">222222</td><td class="ant-table-cell">использован</td></tr><tr data-row-key="ticket_3" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">3</td><td class="ant-table-cell">4</td><td class="ant-table-cell">2</td><td class="ant-table-cell">6</td><td class="ant-table-cell">333333</td><td class="ant-table-cell">использован</td></tr><tr data-row-key="ticket_4" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">4</td><td class="ant-table-cell">1</td><td class="ant-table-cell">3</td><td class="ant-table-cell">3</td><td class="ant-table-cell">444444</td><td class="ant-table-cell">активен</td></tr><tr data-row-key="ticket_5" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">5</td><td class="ant-table-cell">1</td><td class="ant-table-cell">3</td><td class="ant-table-cell">3</td><td class="ant-table-cell">555555</td><td class="ant-table-cell">использован</td></tr><tr data-row-key="ticket_6" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">6</td><td class="ant-table-cell">1</td><td class="ant-table-cell">3</td><td class="ant-table-cell">3</td><td class="ant-table-cell">666666</td><td class="ant-table-cell">активен</td></tr><tr data-row-key="ticket_7" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">7</td><td class="ant-table-cell">1</td><td class="ant-table-cell">3</td><td class="ant-table-cell">3</td><td class="ant-table-cell">777777</td><td class="ant-table-cell">использован</td></tr></tbody></table></div></div></div><ul class="ant-pagination ant-table-pagination ant-table-pagination-right" unselectable="unselectable"><li title="Previous Page" class="ant-pagination-prev ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span></button></li><li title="1" class="ant-pagination-item ant-pagination-item-1 ant-pagination-item-active" tabindex="0"><a rel="nofollow">1</a></li><li title="Next Page" class="ant-pagination-next ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></button></li></ul></div></div></div><h2>Сеанс</h2><div class="ant-table-wrapper"><div class="ant-spin-nested-loading"><div class="ant-spin-container"><div class="ant-table"><div class="ant-table-container"><div class="ant-table-content"><table style="table-layout:auto"><colgroup></colgroup><thead class="ant-table-thead"><tr><th class="ant-table-cell">id</th><th class="ant-table-cell">дата сессии</th></tr></thead><tbody class="ant-table-tbody"><tr data-row-key="session_1" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">3</td><td class="ant-table-cell">12.02.2021 13:00</td></tr><tr data-row-key="session_2" class="ant-table-row ant-table-row-level-0"><td class="ant-table-cell">6</td><td class="ant-table-cell">12.02.2021 18:00</td></tr></tbody></table></div></div></div><ul class="ant-pagination ant-table-pagination ant-table-pagination-right" unselectable="unselectable"><li title="Previous Page" class="ant-pagination-prev ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span></button></li><li title="1" class="ant-pagination-item ant-pagination-item-1 ant-pagination-item-active" tabindex="0"><a rel="nofollow">1</a></li><li title="Next Page" class="ant-pagination-next ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></button></li></ul></div></div></div><h2>Статистика</h2>Таблица статистики может быть сгенерирована в том же виде что и указано в тз на основе данных из предоставленых 4 таблиц. Однако в виду того что я занимался исключительно front-end разработкой и у меня нет базы, id - может быть взят из таблицы заказов колонка id <br/>event_id - может быть взят из таблицы сеансов колонка id(возможно я ошибаюсь и есть отдельно событие и сеанс, но я за основу взял что есть только сеанс) <br/>event_date - из таблицы сеанс колонка дата сессии <br/>ticket_adult_price, ticket_kid_price, etc  - из прайса колонка цена ( связь через заказ-билет-прайс-колонка цена(если несколько цен, то с учетом того что в прайсе цена уникальна, не изменяется и не удаляется, то ничего не разъедется)) <br/>ticket_adult_quantity,ticket_kid_quantity -  связь заказ-билет подсчитать количество с одинаковым типом и записать в колонку с именем которое можно взять из таблицы прайса - колонка тип <br/>barcode из таблицы билет колнка баркод <br/>equal_price - высчитывается из колонки билетов (связь заказ -билет- прайс) берем id заказа- ищем по ним билеты- по связи билет - прайс -колонка цены находим цены и складываем. <br/>created - таблица заказ колонка дата заказа <br/>Вопрос 1 <br/><br/><br/>новые типы билетов указаны в таблице прайс<br/><br/><br/>Вопрос 2<br/><br/><br/>в таблице билетов есть колонка статуса и она никак не привязана к заказу, только к билету.  </div></main><footer class="ant-layout-footer" style="text-align:center">EvilOn ©2021</footer></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/tables","query":{},"buildId":"ZlZgW6zZuwtdZ0cg0YVxM","assetPrefix":"/nevatrip_testcase","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/nevatrip_testcase/_next/static/chunks/polyfills-28654a8145d7603786fc.js"></script><script src="/nevatrip_testcase/_next/static/chunks/main-451062b23790f834dc5a.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/framework.abffcf18e526b7c0dbcd.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/838c9f3c.dd32408e2471bd10af40.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/fd4bf845aed7dbb802652400655cbd7f8e545e2d.ebefd935aa9eadf7826f.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/28c4a1c8a349534f94a08f4a1bbf12609830c835.b3a4585718ec99e0fa05.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/d028f1a9ce91d519727048cd08bb0bf64a5d4833.419cbb774c9d701e288c.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.bf1b5956cffcac531588.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/pages/_app-b288cf6a251b158210ed.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/f5543402ca056c53eca496aafdc30aca99217643.b27feb092d48854805eb.js" async=""></script><script src="/nevatrip_testcase/_next/static/chunks/pages/tables-188d7f8a32fe5eda415c.js" async=""></script><script src="/nevatrip_testcase/_next/static/ZlZgW6zZuwtdZ0cg0YVxM/_buildManifest.js" async=""></script><script src="/nevatrip_testcase/_next/static/ZlZgW6zZuwtdZ0cg0YVxM/_ssgManifest.js" async=""></script></body></html>